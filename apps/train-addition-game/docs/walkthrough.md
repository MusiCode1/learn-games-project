# יומן פיתוח - משחק רכבת החיבור

## 18/12/2025 17:40

### 🧪 עיצוב מחדש של ה-UI, ארגון Router ושיפורי יציבות

בוצע שדרוג מקיף לחווית המשתמש ולמבנה האפליקציה, במטרה ליצור חוויה יציבה יותר ומונגשת.

#### מה בוצע?

**1. ממשק משתמש (UI/UX)**

- **יציבות תצוגה (Layout Stability):** הטמעת מנגנון "פלייסהולדרים" (באמצעות `invisible`) לרכיבים מרכזיים כמו `AnswerPanel`, כדי למנוע קפיצות במסך בעת שינויי מצב משחק.
- **וידג'ט התקדמות:** הוזז לראש המסך (במרכז), בתצורה אופקית, כדי לא להסתיר אלמנטים.
- **כפתורים ושליטה:**
  - כפתור "הוסף קרון" (Depot) מופיע בנפרד רק כשרלוונטי.
  - כפתור "השמע" עגול ומינימליסטי יותר.
  - כפתור "הגדרות" ו-"בית" בעיצוב חדש עם אייקונים.
- **פאנל תשובות:** תצוגת Grid (2 שורות של 5) במסכים צרים לשיפור הנוחות.
- **טיפול בגלילה:** הגדרת `h-screen` וצמצום מרווחים למניעת גלילה מיותרת.

**2. ארכיטקטורה (Routing)**

- **פיצול עמודים:**
  - `src/routes/+page.svelte` - מסך פתיחה ("לובי") בלבד.
  - `src/routes/game/+page.svelte` - מסך המשחק הראשי.
- **Layout משותף:**
  - `src/routes/+layout.svelte` מכיל כעת את האלמנטים הקבועים: רקע (עננים), Header Bar, ו-Settings Overlay.

**3. רכיבים וקוד**

- **סנכרון סאונד:** מעבר ל-`async/await` ומנגנון Promise להשמעת TTS/Audio למניעת חפיפות.
- **ניקוי:** הסרת `AssistOverlay` (פופאפ עזרה) שהפריע, והסרת טקסטים כפולים.
- **דיבאג:** הוספת `window.GameDebug` לבדיקות קלות בקונסול.

## 17/12/2025 - יצירת הפרויקט

### 🚀 מה נוצר

**תשתית**

- אפליקציית SvelteKit עם Tailwind CSS ו-TypeScript

**לוגיקה**

- `game-state.svelte.ts` - State Machine
- `settings.svelte.ts` - הגדרות מורה
- `tts.ts` - הקראה עם fallback ל-TTS
- `distractors.ts` - יצירת מסיחים

**רכיבי UI**

- TrainCar, TrainTrackArea, DepotArea
- HeaderBar, InstructionPanel, AnswerPanel
- CounterBadge, FeedbackOverlay, AssistOverlay

**קבצים סטטיים**

- SVG: locomotive, car-green, car-blue
- סאונד: 13 קבצי WAV

### ✨ תכונות

- cooldown 10 שניות עם טיימר
- מספרים דינמיים + סימן חיבור
- ספרות 1-10 לבחירה
- אנימציות מושכות
