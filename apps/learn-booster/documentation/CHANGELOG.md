# יומן שינויים

השינויים מסודרים בסדר כרונולוגי הפוך - השינויים האחרונים מופיעים בתחילת הקובץ.

## [29/09/2025]
### שינוי: השהיה אוטומטית של טיימר התגמול בעת טעינת וידאו

- **פירוט טכני**:
  - **`src/UI/components/VideoDialog.svelte`**: נוספו מאזיני אירועים (`onwaiting`, `onplaying`) לאלמנט ה-`<video>`. כאשר הנגן ממתין לטעינה, הטיימר מושהה (`timer.pause()`), וכאשר הניגון מתחדש, הטיימר ממשיך (`timer.start()`).
  - **`src/UI/VideoMain.svelte`**: בקר הטיימר (`timer`) הועבר כ-prop לקומפוננטת `VideoDialog` כדי לאפשר לה לשלוט בו ישירות.

- **למה**:
  - שיפור חווית המשתמש על ידי מניעת "בזבוז" זמן תגמול בזמן שהסרטון בכלל לא מתנגן אלא נמצא במצב טעינה. הספירה לאחור ממשיכה רק כאשר המשתמש אכן צופה בתוכן.

- **השפעות**:
  - חווית משתמש הוגנת ומדויקת יותר.
  - הטיימר משקף כעת את זמן הצפייה הפעיל בלבד.

## [29/09/2025]
### שינוי: הוספת בקר טיימר מודולרי ותיקון באגים

- **פירוט טכני**:
  - **`src/lib/utils/timer.ts`**: נוצרה פונקציית `createTimer` חדשה המחזירה `TimerController`. הבקר מאפשר הפעלה, השהיה, ועצירה של טיימר, וחושף `readable store` של Svelte למעקב אחר הזמן. ה-API שופר כדי להפריד בין הגדרת הטיימר (`configure`) להמתנה לסיומו (`onDone`).
  - **ארכיטקטורה**: שונתה ארכיטקטורת ניהול הטיימר לשימוש בהזרקת תלויות. הטיימר נוצר ב-`main.ts` ומועבר כפרמטר נפרד ל-`game-handler` ולקומפוננטת `VideoMain`, מה שמונע צימוד מיותר לבקר הנגן.
  - **`src/lib/game-handler.ts`**: עודכן כדי לקבל ולהשתמש בבקר הטיימר החדש הן בתגמולי וידאו והן בתגמולי אפליקציה, במקום להסתמך על `sleep`. תוקן באג של סדר פעולות שגרם להפעלת הטיימר לפני הגדרתו.
  - **`src/UI/VideoMain.svelte`**: עודכן לקבל את בקר הטיימר כ-prop ולהשתמש בו לשליטה על תצוגת הזמן והפעלת הספירה לאחור.
  - **`src/types.ts`**: עודכן עם האינטרפייס החדש `TimerController`.

- **למה**:
  - הצורך המקורי היה לאפשר שליטה מלאה (הפעלה, השהיה, עצירה) על טיימר התגמול, דבר שלא היה אפשרי עם המימוש הקודם.
  - השינוי הארכיטקטוני נועד לשמור על עקרונות של קוד נקי, למנוע מצב גלובלי, ולהבטיח שכל רכיב מקבל רק את התלויות הנחוצות לו.
  - תיקוני הבאגים ושיפור ה-API נועדו להבטיח את יציבות המערכת וקריאות הקוד.

- **השפעות**:
  - המערכת כעת משתמשת בטיימר מרכזי אחד לכל סוגי התגמול, מה שמבטיח התנהגות אחידה.
  - קל יותר להרחיב את המערכת בעתיד עם לוגיקות תזמון נוספות.
  - הקוד הפך למודולרי וקל יותר לבדיקה ותחזוקה.
  
### תקציר אנושי
- דבר ראשון תיקנתי את הבאג שגרם שהמחזק הופעל עוד לפני תחילת המשחק.

- אחר כך הגדרתי שאם לוחצים על לחצן סגירת החלון, הטיימר לא ימשיך להמתין עד סוף הזמן. מה שהיה עד כה שאם המשתמש סגר את החלון מוקדם, הוא היה צריך להמתין עד סיום הטיימר כדי להמשיך את המשימה באתר ג'ינג'ים.

- אחר כך יצרנו אני וג'מיני אובייקט טיימר המאפשר לעשות גם פאוז. בהמשך ארצה לעשות פאוז בכל פעם שיש המתנה לטעינת הסרטון.

## [25/03/2025]
### שינוי: שיפור מנגנון איתור פונקציות מטרה במשחקים - שלב ב'

- **פירוט טכני**:
  - שיפור `object-finder.ts`:
    - הוספת העמסת פונקציות (function overloading) לפונקציה `findFunctionInWindow`
    - הוספת ממשקים חדשים `SearchOptionsWithStats` ו-`SearchOptionsWithoutStats`
    - שיפור הטיפוס של הפונקציה כך שיהיה ברור מה היא מחזירה בכל מקרה
  - שיפור `get-game-config.ts`:
    - שינוי שם הפונקציה `pullGameConfig` ל-`findGameConfig`
    - הוספת טיפוסים מפורשים
    - הוספת לוגים מפורטים
    - הוספת טיפול בשגיאות
    - הוספת פונקציה חדשה `findTriggerFunctionPath` שמחפשת את פונקציית המטרה באמצעות `findFunctionInWindow`
  - שינויים ב-`game-handler.ts`:
    - שינויים קטנים בפורמט הקוד
    - הסרת הפונקציה `injectCodeWithMonitor` שהייתה מסומנת כ-deprecated
    - שינוי הפונקציה `injectCode` כך שתקרא ל-`getGameConfig` ישירות במקום להזריק קוד לפונקציית היצירה של המשחק

- **למה**:
  - המשך פיתוח המנגנון החדש לאיתור פונקציות מטרה במשחקים
  - שיפור הטיפוסים והקריאות של הקוד
  - הוספת יכולת חיפוש דינמית לפונקציות מטרה במקרה שהנתיב הידוע לא עובד
  - הסרת קוד מיושן והפשטת תהליך הזרקת הקוד

- **השפעות**:
  - תמיכה טובה יותר במשחקים שונים, כולל משחקים שלא עבדו עם הגישה הקודמת
  - קוד נקי ותחזוקתי יותר עם טיפוסים ברורים
  - יכולת לאתר פונקציות מטרה באופן דינמי, מה שמקל על תחזוקת המערכת
  - הכנת תשתית להסרת קוד מיושן בעתיד

## [25/03/2025]
### שינוי: פיתוח מנגנון חדש לאיתור פונקציות מטרה במשחקים

- **פירוט טכני**:
  - יצירת מודול חדש `src/lib/object-finder.ts` המיישם חיפוש רקורסיבי לאיתור פונקציות מטרה
  - ריפקטורינג של מערכת הזרקת הקוד למשחקים בקובץ `src/lib/game-handler.ts`
  - הוספת פונקציה מרכזית חדשה `injectCode` שמחליפה את הפונקציות הישנות
  - הפרדת הלוגיקה ליצירת האנדלר לפונקציה נפרדת `createGameTurnHandler`
  - שיפור הלוגיקה של בחירת שיטת ההזרקה המתאימה
  - פישוט הקוד ב-`main.ts` עם שימוש בפונקציה המאוחדת `injectCode`

- **למה**:
  - הזרקה סטנדרטית לא פעלה על המשחק 'כותבים מילים'
  - הפתרון הקודם באמצעות monkey patching של `Function.prototype.call` התגלה כפתרון מכוער ומגושם
  - נדרשה גישה חדשה ואלגנטית יותר לאיתור פונקציות מטרה במשחקים
  - שיפור ארגון הקוד והפרדת אחריות ברורה בין הרכיבים השונים

- **השפעות**:
  - תמיכה טובה יותר במשחקים שונים, כולל משחקים שלא עבדו עם הגישה הקודמת
  - קוד נקי ותחזוקתי יותר עם הפרדת אחריות ברורה
  - ביצועים משופרים באיתור פונקציות מטרה
  - הכנת תשתית להוצאת הקוד המכוער של `function-monitor.ts` משירות בעתיד

## [24/03/2025]
### שינוי: שיפור מנגנון הזרקת הקוד למשחקים באמצעות ניטור פונקציות

- **פירוט טכני**:
  - נוסף מודול חדש `src/lib/function-monitor.ts` המיישם גישה חדשה להזרקת קוד באמצעות monkey patching של `Function.prototype.call`
  - שינוי משמעותי בפונקציית `injectCodeToGame` בקובץ `src/lib/game-handler.ts` - הגרסה הישנה נשמרה כ-`injectCodeToGame_old` לצורך תיעוד
  - הגרסה החדשה מנטרת קריאות לפונקציות מפתח במשחק במקום להחליף אותן ישירות
  - עדכון קבצי `public/gingim-booster-inject.js` ו-`public/i.js` למצב פיתוח לצורך בדיקת הגישה החדשה
  - הוספת קובץ תבנית `vite-plugin/gingim-booster-inject.js` לשיפור תהליך הבנייה

- **למה**:
  - הקוד המקורי הזריק קוד לתוך המשחק להפעלת תגמול בעת סיום משימה, אך הזרקת קוד ישירה התגלתה כלא יציבה
  - במהלך הפיתוח התגלה שפונקציונליות ההזרקה לא פעלה כראוי במשחק מסוים
  - האסטרטגיה המקורית (החלפת פונקציה ידועה מראש) לא הייתה מספיק אמינה
  - האסטרטגיה החדשה מבצעת monkey patching על `Function.prototype.call`, מה שמאפשר ניטור כללי יותר של קריאות פונקציה

- **השפעות**:
  - שיפור אמינות מנגנון הזרקת הקוד למשחקים
  - גמישות רבה יותר בניטור פונקציות שונות במשחק
  - יכולת טובה יותר לאבחן בעיות בזמן ריצה
  - הפרויקט עדיין בתהליך פיתוח והשינויים טרם הושלמו במלואם

## [19/03/2025]
### שינוי: הוספת פונקציית חיפוש רקורסיבית באובייקטים

- **פירוט טכני**:
  - נוספה פונקציית `findKeyInObject` בקובץ `dev/find-key-in-object-console.js` המאפשרת חיפוש רקורסיבי של מפתח בתוך אובייקט מקונן
  - הפונקציה משתמשת בגישה איטרטיבית במקום רקורסיבית למניעת בעיות זיכרון באובייקטים גדולים
  - הפונקציה מחזירה את הנתיב המלא למפתח בפורמט של נתיב JS חוקי
  - תמיכה באפשרות לחפש את כל המופעים של המפתח או רק את המופע הראשון
  - טיפול במקרים מיוחדים כמו מערכים, מפתחות עם תווים מיוחדים, ומחזוריות באובייקטים

- **למה**:
  - לאפשר איתור מפתחות ספציפיים בתוך אובייקטים מקוננים מורכבים
  - לסייע בתהליך פיתוח המשחק באמצעות כלי שמאפשר לאתר היכן נמצא שם המשחק הנוכחי באובייקט ההגדרות
  - לספק פתרון יעיל שלא ממלא את הזיכרון גם באובייקטים גדולים או עמוקים

- **השפעות**:
  - שיפור יכולת הניתוח והאיתור של מידע באובייקטים מורכבים
  - הקלה על תהליך הפיתוח והדיבוג של המשחק
  - אפשרות לשימוש בפונקציה ישירות בקונסול הדפדפן

## [06/03/2025]
### שינוי: שיפורים בתהליך הפריסה, התיעוד ובדיקות האתר

- **פירוט טכני**:
  - שיפור משמעותי בדף הבית (`public/index.html`):
    - הוספת ניווט מובנה
    - שיפור העיצוב והתגובתיות
    - הוספת תיעוד מקיף על הפרויקט
  - שיפורים בתהליך הפריסה:
    - הוספת תמיכה ב-Vercel (`vite-plugin-vercel`)
    - שיפור בפלאגין הזרקת הקוד (`vite-plugin-inject-script.ts`)
    - הוספת תמיכה בקבצי `.env`
  - שיפורים בלוגיקת המשחק:
    - הוספת בדיקת דומיין ב-`main.ts`
    - הוספת אפשרות להשבתת הזרקת קוד למשחק
    - שיפור בטיפול במצבי משחק שונים
  - ניקוי קוד:
    - הסרת קוד מיותר מ-`test.html`
    - שיפור בארגון הקוד

- **למה**:
  - שיפור חווית המשתמש והנגשת המידע על הפרויקט
  - שיפור תהליך הפריסה והגמישות בהגדרות
  - הוספת שכבת אבטחה נוספת
  - שיפור התחזוקתיות של הקוד

- **השפעות**:
  - דף בית ידידותי ואינפורמטיבי יותר
  - תהליך פריסה אמין ומאובטח יותר
  - גמישות רבה יותר בהגדרות המערכת
  - קוד נקי ותחזוקתי יותר

## [05/03/2025]
### שינוי: שיפורים וארגון מחדש של לוגיקת הטיפול במשחק והזרקת הקוד

- **פירוט טכני**:
  - שינוי משמעותי בלוגיקה של `handleGameTurn` ב-`src/lib/game-handler.ts`, כולל הפרדה בין לוגיקת וידאו ואפליקציה, ושימוש ב-type guards.
  - שינוי חתימה של `injectCodeToGame` והוספת overloads עבור סוגי תגמול שונים.
  - שימוש בשמות משתנים תיאוריים יותר.
  - הוספת הערות JSDoc.
  - ב-`src/main.ts`:
    - שימוש בפונקציות חדשות (`initGameRewardHandler`, `initializeVideoPlayer`, `initializeSettings`).
    - שימוש ב-`mountComponent` במקום פונקציות נפרדות לטעינת אלמנטים.
  - ב-`src/types.ts`: הוספת טיפוסים `VideoConfig` ו-`AppConfig`.
  - עדכון חבילות ב-`bun.lock`.
  - הזרקת הקוד למשחק מתבצעת כעת רק *אחרי* שהמשחק נטען, ולכן המשתנה `isFirstTurn` הפך למיותר.

- **למה**:
  - שיפור הקריאות, התחזוקתיות והיעילות של הקוד.
  - הפרדה בין הלוגיקה של וידאו ואפליקציה מאפשרת גמישות רבה יותר בהוספת סוגי תגמול.
  - שיפור בטיחות הטיפוסים.
  - שיפור תהליך אתחול המשחק.

- **השפעות**:
  - שיפור ביצועים.
  - קוד קריא וקל יותר לתחזוקה.
  - גמישות רבה יותר בהוספת סוגי תגמול.


## [03/03/2025]
### שינוי: יישום מערכת ההגדרות החדשה בקוד

- **פירוט טכני**:
  - עדכון קבצי המערכת לשימוש במבנה ההגדרות החדש:
    - עדכון `src/main.ts` לאתחול מערכת ההגדרות בתחילת הריצה
    - עדכון `src/UI/component-composer.ts` לשימוש בפונקציות החדשות מ-`config-manager.ts`
    - עדכון `src/lib/game-handler.ts` לתמיכה במבנה החדש
    - עדכון `src/global.d.ts` לתמיכה בשני פורמטים של הגדרות
  - הוספת בדיקת אתחול למערכת ההגדרות ב-`config-manager.ts`
  - שיפור תהליך האתחול של מערכת ההגדרות

## [03/03/2025]
### שינוי: ריפקטורינג של מערכת ההגדרות והפרדת לוגיקת טעינת הסרטונים

- **פירוט טכני**:
  - יצירת מבנה חדש לאובייקט התצורה (Config) עם הפרדה לתתי-אובייקטים לוגיים (`src/types.ts`).
  - הוספת טיפוסים ייעודיים `VideoItem` ו-`VideoList` לשימוש עקבי במבנה נתוני הסרטונים (`src/types.ts`).
  - יצירת מודול נפרד לטעינת סרטונים (`src/lib/video-loader.ts`) עם פונקציות ייעודיות לטעינה ממקורות שונים.
  - שיפור הטיפול ב-mimeType עם זיהוי דינמי של סוג הקובץ לפי הסיומת.
  - עדכון מודול ניהול ההגדרות (`src/lib/config-manager.ts`) לשימוש בפונקציות החדשות.
  - הרחבת התיעוד של מבנה ההגדרות החדש (`documentation/new-config-structure.md`).

- **למה**:
  - שיפור ארגון הקוד על ידי הפרדת אחריות ברורה בין ניהול ההגדרות לטעינת הסרטונים.
  - שיפור קריאות הקוד ותחזוקתיות על ידי שימוש בטיפוסים מוגדרים היטב.
  - הוספת גמישות למערכת על ידי תמיכה בסוגי קבצים שונים וזיהוי דינמי של סוג הקובץ.
  - שיפור התיעוד והנגשת המידע על מבנה ההגדרות החדש ואופן השימוש בו.

- **השפעות**:
  - מבנה הגדרות מודולרי יותר שקל להרחיב בעתיד.
  - קוד קריא ותחזוקתי יותר עם הפרדת אחריות ברורה.
  - טיפול טוב יותר בסוגי קבצים שונים.
  - API פשוט ואינטואיטיבי לעבודה עם ההגדרות.
  - תמיכה בתאימות לאחור עם הקוד הקיים באמצעות פונקציות המרה.

## [27/02/2025]
### שינוי: שיפור תהליך הפיתוח ומעבר לשרת פיתוח מקומי

- **פירוט טכני**:
  - עדכון תצורת הפרויקט למעבר משרת ייצור לשרת פיתוח מקומי (`public/i.js`). שונה ה-URL מ-vercel.app ל-dev-server.dev:443.
  - הוספת פלאגין Vite חדש להזרקת סקריפטים (`vite.config.ts`, `vite-plugin/vite-plugin-inject-script.ts`).
  - שיפור הגדרות TypeScript (`tsconfig.json`): ביטול allowJs ו-checkJs לשיפור הביצועים.
  - עדכון דף index.html לטעינה דינמית של קוד ההזרקה (`public/index.html`).
  - תיקון שגיאת תחביר ב-`src/lib/google-drive-video.ts`.
  - שיפור קוד ב-`src/lib/get-game-config.ts`: שימוש בנתיב דינמי מהקונפיגורציה במקום ערך קבוע.
  - הוספת חבילת @types/node לתמיכה טובה יותר בסביבת Node (`package.json`).
  - עדכון .gitignore להתעלמות מקבצי הרשאות Google Drive וקבצי פיתוח.
  - ניקוי קבצים מיותרים: i.js ו-user-script-inject.js.
  - עדכון הגדרות שרת הפיתוח ב-`vite.config.ts` לשימוש בפורט 443.

- **למה**:
  - שיפור תהליך הפיתוח על ידי מעבר לשרת פיתוח מקומי, המאפשר בדיקות מהירות יותר ללא תלות בשרת חיצוני.
  - שיפור ארגון הקוד והתאמתו לסטנדרטים של TypeScript.
  - הוספת פלאגין להזרקת סקריפטים לשיפור תהליך הבנייה והפריסה.
  - תיקון שגיאות ושיפור הקוד הקיים.
  - שיפור חווית המשתמש בדף index.html על ידי טעינה דינמית של קוד ההזרקה.

- **השפעות**:
  - תהליך פיתוח מהיר ויעיל יותר עם פחות תלות בשרתים חיצוניים.
  - שיפור באיכות הקוד ובביצועים של המערכת.
  - הקטנת הסיכון לשגיאות בזמן ריצה על ידי שימוש בבדיקות טיפוסים מחמירות יותר.
  - שיפור בתהליך הבנייה והפריסה של המערכת.

## [27/02/2025]
### שינוי: הוצאת קוד משותף לקומפוננטות, תמיכה בהפעלת אפליקציות חיצוניות

- **פירוט טכני**:
  - הוצאת לוגיקת טעינת וידאו והגדרות לקומפוננטות נפרדות (`src/main.ts`). הוסרו פונקציות ישנות והוחלפו בפונקציות `loadVideoElement` ו-`loadSettingsElement`.
  - הוספת תמיכה בהפעלת אפליקציות חיצוניות דרך Fully Kiosk במקום הצגת סרטון (`src/lib/game-handler.ts`). שונתה הפונקציה `handleGameLevelEnd` ל-`handleGameTurn` והיא עודכנה לטיפול בשני המצבים. נוספה פונקציה `injectCodeToGame`.
  - שיפורים ועדכונים בקוד הזרקת הסקריפט למשחקים (`src/lib/game-handler.ts`, `src/lib/get-game-config.ts`).
  - עדכון הגדרות Fully Kiosk (`src/types.ts`). נוספו `FullyItem` ואינטרפייס `FullyKiosk` הורחב. עודכן `VideoDialogProps` ו-`Config`. נוסף `ConfigOverrides`.
  - עדכוני תלויות (`.gitignore`, `dev/.http`, `dev/game-list.js`, `svelte.config.js`, `tailwind.config.js`, `user-script-inject.js`).

- **למה**:
  - שיפור ארגון הקוד על ידי הפרדת הלוגיקה של טעינת הווידאו וההגדרות לקומפוננטות נפרדות.
  - הוספת גמישות למערכת על ידי מתן אפשרות להפעיל אפליקציות חיצוניות במקום להציג סרטון, בהתאם להגדרות.
  - שיפור הקוד המוזרק למשחקים והתאמתו לשינויים במבנה הקוד.
  - עדכון ההגדרות והטיפוסים בהתאם לשינויים שנעשו.

- **השפעות**:
  - המערכת תומכת כעת בשני מצבי פעולה: הצגת סרטון או הפעלת אפליקציה חיצונית.
  - שיפור בארגון הקוד ובחלוקתו לקומפוננטות.
  - שיפור ביכולת ההרחבה של המערכת בעתיד.
## [03/03/2025]
### שינוי: ריפקטורינג של מערכת ההגדרות והפרדת לוגיקת טעינת הסרטונים

- **פירוט טכני**:
  - יצירת מבנה חדש לאובייקט התצורה (Config) עם הפרדה לתתי-אובייקטים לוגיים (`src/types.ts`).
  - הוספת טיפוסים ייעודיים `VideoItem` ו-`VideoList` לשימוש עקבי במבנה נתוני הסרטונים (`src/types.ts`).
  - יצירת מודול נפרד לטעינת סרטונים (`src/lib/video-loader.ts`) עם פונקציות ייעודיות לטעינה ממקורות שונים.
  - שיפור הטיפול ב-mimeType עם זיהוי דינמי של סוג הקובץ לפי הסיומת.
  - עדכון מודול ניהול ההגדרות (`src/lib/config-manager.ts`) לשימוש בפונקציות החדשות.
  - הרחבת התיעוד של מבנה ההגדרות החדש (`documentation/new-config-structure.md`).

- **למה**:
  - שיפור ארגון הקוד על ידי הפרדת אחריות ברורה בין ניהול ההגדרות לטעינת הסרטונים.
  - שיפור קריאות הקוד ותחזוקתיות על ידי שימוש בטיפוסים מוגדרים היטב.
  - הוספת גמישות למערכת על ידי תמיכה בסוגי קבצים שונים וזיהוי דינמי של סוג הקובץ.
  - שיפור התיעוד והנגשת המידע על מבנה ההגדרות החדש ואופן השימוש בו.

- **השפעות**:
  - מבנה הגדרות מודולרי יותר שקל להרחיב בעתיד.
  - קוד קריא ותחזוקתי יותר עם הפרדת אחריות ברורה.
  - טיפול טוב יותר בסוגי קבצים שונים.
  - API פשוט ואינטואיטיבי לעבודה עם ההגדרות.
  - תמיכה בתאימות לאחור עם הקוד הקיים באמצעות פונקציות המרה.

## [27/02/2025]
### שינוי: שיפור תהליך הפיתוח ומעבר לשרת פיתוח מקומי

- **פירוט טכני**:
  - עדכון תצורת הפרויקט למעבר משרת ייצור לשרת פיתוח מקומי (`public/i.js`). שונה ה-URL מ-vercel.app ל-dev-server.dev:443.
  - הוספת פלאגין Vite חדש להזרקת סקריפטים (`vite.config.ts`, `vite-plugin/vite-plugin-inject-script.ts`).
  - שיפור הגדרות TypeScript (`tsconfig.json`): ביטול allowJs ו-checkJs לשיפור הביצועים.
  - עדכון דף index.html לטעינה דינמית של קוד ההזרקה (`public/index.html`).
  - תיקון שגיאת תחביר ב-`src/lib/google-drive-video.ts`.
  - שיפור קוד ב-`src/lib/get-game-config.ts`: שימוש בנתיב דינמי מהקונפיגורציה במקום ערך קבוע.
  - הוספת חבילת @types/node לתמיכה טובה יותר בסביבת Node (`package.json`).
  - עדכון .gitignore להתעלמות מקבצי הרשאות Google Drive וקבצי פיתוח.
  - ניקוי קבצים מיותרים: i.js ו-user-script-inject.js.
  - עדכון הגדרות שרת הפיתוח ב-`vite.config.ts` לשימוש בפורט 443.

- **למה**:
  - שיפור תהליך הפיתוח על ידי מעבר לשרת פיתוח מקומי, המאפשר בדיקות מהירות יותר ללא תלות בשרת חיצוני.
  - שיפור ארגון הקוד והתאמתו לסטנדרטים של TypeScript.
  - הוספת פלאגין להזרקת סקריפטים לשיפור תהליך הבנייה והפריסה.
  - תיקון שגיאות ושיפור הקוד הקיים.
  - שיפור חווית המשתמש בדף index.html על ידי טעינה דינמית של קוד ההזרקה.

- **השפעות**:
  - תהליך פיתוח מהיר ויעיל יותר עם פחות תלות בשרתים חיצוניים.
  - שיפור באיכות הקוד ובביצועים של המערכת.
  - הקטנת הסיכון לשגיאות בזמן ריצה על ידי שימוש בבדיקות טיפוסים מחמירות יותר.
  - שיפור בתהליך הבנייה והפריסה של המערכת.

## [27/02/2025]
### שינוי: הוצאת קוד משותף לקומפוננטות, תמיכה בהפעלת אפליקציות חיצוניות

- **פירוט טכני**:
  - הוצאת לוגיקת טעינת וידאו והגדרות לקומפוננטות נפרדות (`src/main.ts`). הוסרו פונקציות ישנות והוחלפו בפונקציות `loadVideoElement` ו-`loadSettingsElement`.
  - הוספת תמיכה בהפעלת אפליקציות חיצוניות דרך Fully Kiosk במקום הצגת סרטון (`src/lib/game-handler.ts`). שונתה הפונקציה `handleGameLevelEnd` ל-`handleGameTurn` והיא עודכנה לטיפול בשני המצבים. נוספה פונקציה `injectCodeToGame`.
  - שיפורים ועדכונים בקוד הזרקת הסקריפט למשחקים (`src/lib/game-handler.ts`, `src/lib/get-game-config.ts`).
  - עדכון הגדרות Fully Kiosk (`src/types.ts`). נוספו `FullyItem` ואינטרפייס `FullyKiosk` הורחב. עודכן `VideoDialogProps` ו-`Config`. נוסף `ConfigOverrides`.
  - עדכוני תלויות (`.gitignore`, `dev/.http`, `dev/game-list.js`, `svelte.config.js`, `tailwind.config.js`, `user-script-inject.js`).

- **למה**:
  - שיפור ארגון הקוד על ידי הפרדת הלוגיקה של טעינת הווידאו וההגדרות לקומפוננטות נפרדות.
  - הוספת גמישות למערכת על ידי מתן אפשרות להפעיל אפליקציות חיצוניות במקום להציג סרטון, בהתאם להגדרות.
  - שיפור הקוד המוזרק למשחקים והתאמתו לשינויים במבנה הקוד.
  - עדכון ההגדרות והטיפוסים בהתאם לשינויים שנעשו.

- **השפעות**:
  - המערכת תומכת כעת בשני מצבי פעולה: הצגת סרטון או הפעלת אפליקציה חיצונית.
  - שיפור בארגון הקוד ובחלוקתו לקומפוננטות.
  - שיפור ביכולת ההרחבה של המערכת בעתיד.
